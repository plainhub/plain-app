import{_ as h}from"./LeftSidebar.vuevuetypescriptsetuptruelang-rYBRxPjc.js";import{_ as C}from"./TagFilter.vuevuetypescriptsetuptruelang-DD5LtWg2.js";import{d as g,e as S,s as y,f as k,W as w,r as B,Y as T,w as b,M as A,o as l,v as I,aa as i,a8 as N,a9 as R,aV as V,a as c,j as q,A as L,R as M,c as Q,h as $,t as u,k as _,C as x}from"./index-CiJYwD0I.js";import"./VDropdownMenu-CxTbhC5S.js";import"./more-vert-CEF7zZdM.js";const z={class:"nav"},j={class:"title"},D={key:0,class:"count"},F=g({__name:"ContactsSidebar",setup(E){const d=S(),{counter:a}=y(k()),{parseQ:m}=R(),s=w({tagIds:[]}),o=B(""),{fetch:p}=T({handle:e=>{e&&(a.value.contacts=e.total)},document:V,variables:()=>({})});function n(){var t;const e=i.currentRoute.value,r=N(((t=e.query.q)==null?void 0:t.toString())??"");m(s,r),o.value=s.tagIds.length===1?s.tagIds[0]:"",p()}n(),b(()=>i.currentRoute.value,()=>{n()});function f(){x(d,"/contacts")}return(e,r)=>{const t=C,v=h;return l(),A(v,null,{body:I(()=>[c("ul",z,[c("li",{class:M({active:!o.value}),onClick:L(f,["prevent"])},[c("span",j,u(e.$t("all")),1),_(a).contacts>=0?(l(),Q("span",D,u(_(a).contacts.toLocaleString()),1)):$("",!0)],2)]),q(t,{type:"CONTACT",selected:o.value},null,8,["selected"])]),_:1})}}});export{F as default};

import{_ as es}from"./VPagination.vuevuetypescriptsetuptruelang-C4S314Mm.js";import{_ as ts,u as ss,a as os}from"./key-events-D0AKm23A.js";import{d as Z,c as y,M as d,o as a,a as l,N as is,t as b,m as He,u as me,a0 as D,O as f,h as A,P as ye,k as t,H as Ge,A as u,v as c,j as r,ac as je,aU as We,aV as ae,ao as Xe,aW as ne,aX as le,aY as Ye,Q as Ze,bc as as,am as ns,R as Je,b8 as De,aO as Be,q as qe,ad as Re,T as ls,U as ds,I as Ve,V as Ue,i as de,bd as rs,be as us,s as re,f as xe,a7 as F,aD as ue,G as pe,r as V,bf as ps,e as ms,W as ys,aq as ze,ar as cs,X as gs,aZ as vs,a_ as fs,as as hs,Y as ks,a$ as Is,b0 as _s,w as bs,Z as Ts,$ as ws,at as $s,K as Fs,au as Ps,a1 as Ne,a2 as Cs,a5 as Ke,aB as As,bg as Ms,b3 as Oe,aA as Ss,b5 as Es,a4 as Ls,C as Ds,bh as Qe,a6 as Bs,a8 as qs,a9 as Rs,L as Vs}from"./index-DZRXRZ01.js";import{_ as Us}from"./ListItemPhone.vuevuetypescriptsetuptruelang-D4QL_mFP.js";import{_ as zs}from"./FieldId.vuevuetypescriptsetuptruelang-BK6GHXRD.js";import{_ as et}from"./VCheckbox-C3ZwVFMw.js";import{_ as Ns}from"./AllCheckedAlert.vuevuetypescriptsetuptruelang-DqpooIVK.js";import{a as Ks}from"./tags-DKSnvtHt.js";import{_ as Os,K as Qs,m as Hs}from"./media-DVqhq4vW.js";import"./upload-rounded-C_9b5OYy.js";const Gs={key:0,class:"media-item selectable-card-skeleton"},js={class:"start"},Ws={class:"number"},Xs=Z({__name:"AudioSkeletonItem",props:{index:{},isPhone:{type:Boolean}},setup(M){return(e,s)=>{const n=ts;return e.isPhone?(a(),d(n,{key:1,"title-width":"70%",subtitles:[{width:"45%"},{width:"40%"},{width:"50%"}],"action-count":4})):(a(),y("section",Gs,[l("div",js,[s[0]||(s[0]=l("div",{class:"skeleton-checkbox"},null,-1)),l("span",Ws,b(e.index),1)]),s[1]||(s[1]=is('<div class="image"><div class="skeleton-image lg"></div></div><div class="title"><div class="skeleton-text lg" style="width:40%;"></div></div><div class="subtitle"><div class="skeleton-text" style="width:30%;"></div></div><div class="actions"><div class="skeleton-text lg" style="width:140px;"></div></div><div class="artist"><div class="skeleton-text" style="width:60px;"></div></div><div class="time"><div class="skeleton-text" style="width:60px;"></div></div>',6))]))}}}),Ys={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Zs(M,e){return a(),y("svg",Ys,e[0]||(e[0]=[l("path",{fill:"currentColor",d:"M10 16q.425 0 .713-.288T11 15V9q0-.425-.288-.712T10 8t-.712.288T9 9v6q0 .425.288.713T10 16m4 0q.425 0 .713-.288T15 15V9q0-.425-.288-.712T14 8t-.712.288T13 9v6q0 .425.288.713T14 16m-2 6q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12t-2.325-5.675T12 4T6.325 6.325T4 12t2.325 5.675T12 20m0-8"},null,-1)]))}const Js=He({name:"material-symbols-pause-circle-outline-rounded",render:Zs}),xs={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function eo(M,e){return a(),y("svg",xs,e[0]||(e[0]=[l("path",{fill:"currentColor",d:"M3 16v-2h7v2zm0-4v-2h11v2zm0-4V6h11v2zm13 12v-4h-4v-2h4v-4h2v4h4v2h-4v4z"},null,-1)]))}const tt=He({name:"material-symbols-playlist-add",render:eo}),to={class:"actions"},so=Z({__name:"AudioActionButtons",props:{item:{},filter:{},dataType:{},editMode:{type:Boolean},animatingIds:{},playLoading:{type:Boolean},playPath:{},app:{},deleteItem:{type:Function},restore:{type:Function},downloadFile:{type:Function},trash:{type:Function},handleRemoveFromPlaylist:{type:Function},addToPlaylist:{type:Function},addItemToTags:{type:Function},pause:{type:Function},isAudioPlaying:{type:Function},isInPlaylist:{type:Function},restoreLoading:{type:Function},trashLoading:{type:Function}},setup(M){const{t:e}=me();return(s,n)=>{const T=je,g=Ge,U=We,k=Xe,P=Ye,B=Ze,p=as,S=tt,C=ns,v=Js,I=ye("tooltip");return a(),y("div",to,[s.filter.trash?(a(),y(D,{key:0},[s.editMode?f((a(),d(g,{key:0,class:"sm",onClick:n[0]||(n[0]=u(_=>s.deleteItem(s.dataType,s.item),["stop"]))},{default:c(()=>[r(T)]),_:1})),[[I,t(e)("delete")]]):A("",!0),f((a(),d(g,{class:"sm",loading:s.restoreLoading(`ids:${s.item.id}`),onClick:n[1]||(n[1]=u(_=>s.restore(s.dataType,`ids:${s.item.id}`),["stop"]))},{default:c(()=>[r(U)]),_:1},8,["loading"])),[[I,t(e)("restore")]]),f((a(),d(g,{class:"sm",onClick:n[2]||(n[2]=u(_=>s.downloadFile(s.item.path,t(ae)(s.item.path).replace(" ","-")),["stop"]))},{default:c(()=>[r(k)]),_:1})),[[I,t(e)("download")]])],64)):(a(),y(D,{key:1},[s.editMode?(a(),y(D,{key:0},[t(ne)(t(le).MEDIA_TRASH,s.app.osVersion)?f((a(),d(g,{key:0,class:"sm",loading:s.trashLoading(`ids:${s.item.id}`),onClick:n[3]||(n[3]=u(_=>s.trash(s.dataType,`ids:${s.item.id}`),["stop"]))},{default:c(()=>[r(P)]),_:1},8,["loading"])),[[I,t(e)("move_to_trash")]]):f((a(),d(g,{key:1,class:"sm",onClick:n[4]||(n[4]=u(_=>s.deleteItem(s.dataType,s.item),["stop"]))},{default:c(()=>[r(T)]),_:1})),[[I,t(e)("delete")]]),f((a(),d(g,{class:"sm",onClick:n[5]||(n[5]=u(_=>s.downloadFile(s.item.path,t(ae)(s.item.path).replace(" ","-")),["stop"]))},{default:c(()=>[r(k)]),_:1})),[[I,t(e)("download")]]),f((a(),d(g,{class:"sm",onClick:n[6]||(n[6]=u(_=>s.addItemToTags(s.item),["stop"]))},{default:c(()=>[r(B)]),_:1})),[[I,t(e)("add_to_tags")]])],64)):(a(),y(D,{key:1},[f((a(),d(g,{class:"sm",onClick:n[7]||(n[7]=u(_=>s.downloadFile(s.item.path,t(ae)(s.item.path).replace(" ","-")),["stop"]))},{default:c(()=>[r(k)]),_:1})),[[I,t(e)("download")]]),s.isInPlaylist(s.item)&&!s.animatingIds.includes(s.item.id)?f((a(),d(g,{key:0,class:"sm",onClick:n[8]||(n[8]=u(_=>s.handleRemoveFromPlaylist(_,s.item),["stop","prevent"]))},{default:c(()=>[r(p,{class:"playlist-remove-icon"})]),_:1})),[[I,t(e)("remove_from_playlist")]]):s.isInPlaylist(s.item)&&s.animatingIds.includes(s.item.id)?(a(),d(g,{key:1,class:"sm",disabled:!0},{default:c(()=>[r(p,{class:"playlist-remove-icon rotating"})]),_:1})):!s.isInPlaylist(s.item)&&!s.animatingIds.includes(s.item.id)?f((a(),d(g,{key:2,class:"sm",onClick:n[9]||(n[9]=u(_=>s.addToPlaylist(_,s.item),["stop","prevent"]))},{default:c(()=>[r(S,{class:"playlist-add-icon"})]),_:1})),[[I,t(e)("add_to_playlist")]]):!s.isInPlaylist(s.item)&&s.animatingIds.includes(s.item.id)?(a(),d(g,{key:3,class:"sm",disabled:!0},{default:c(()=>[r(S,{class:"playlist-add-icon rotating"})]),_:1})):A("",!0),s.playLoading&&s.item.path===s.playPath?(a(),d(C,{key:4,indeterminate:"",class:"sm"})):s.isAudioPlaying(s.item)?f((a(),d(g,{key:5,class:"sm",onClick:n[10]||(n[10]=u(_=>s.pause(),["stop"]))},{default:c(()=>[r(v)]),_:1})),[[I,t(e)("pause")]]):A("",!0)],64))],64))])}}}),oo={class:"start"},io={class:"number"},ao={class:"image"},no=["src"],lo=["src"],ro={class:"title"},uo={class:"subtitle"},po={class:"duration"},mo={class:"artist"},yo={class:"time"},co={class:"image"},go=["src"],vo=["src"],fo={class:"subtitle"},ho={class:"duration"},ko={key:0,class:"subtitle"},Io={class:"subtitle"},_o={key:0,class:"artist"},bo={class:"time"},To=Z({__name:"AudioListItem",props:{item:{},index:{},selectedIds:{},shiftEffectingIds:{},shouldSelect:{type:Boolean},isPhone:{type:Boolean},editMode:{type:Boolean},imageErrorIds:{},bucketsMap:{},filter:{},dataType:{},animatingIds:{},playLoading:{type:Boolean},playPath:{},mainStore:{},app:{},handleItemClick:{type:Function},handleMouseOver:{type:Function},toggleSelect:{type:Function},onImageError:{type:Function},viewBucket:{type:Function},deleteItem:{type:Function},restore:{type:Function},downloadFile:{type:Function},trash:{type:Function},handleRemoveFromPlaylist:{type:Function},addToPlaylist:{type:Function},addItemToTags:{type:Function},play:{type:Function},pause:{type:Function},isAudioPlaying:{type:Function},isInPlaylist:{type:Function},restoreLoading:{type:Function},trashLoading:{type:Function}},setup(M){return(e,s)=>{var B;const n=et,T=zs,g=ls,U=so,k=Us,P=ye("tooltip");return e.isPhone?(a(),d(k,{key:1,"is-selected":e.selectedIds.includes(e.item.id),"is-selecting":e.shiftEffectingIds.includes(e.item.id),"checkbox-checked":e.shiftEffectingIds.includes(e.item.id)?e.shouldSelect:e.selectedIds.includes(e.item.id),"show-checkbox":e.editMode,onClick:s[8]||(s[8]=p=>e.handleItemClick(p,e.item,e.index,()=>e.play(e.item))),onMouseenter:s[9]||(s[9]=u(p=>e.handleMouseOver(p,e.index),["stop"])),onCheckboxClick:s[10]||(s[10]=p=>e.toggleSelect(p,e.item,e.index))},{image:c(()=>[l("div",co,[e.imageErrorIds.includes(e.item.id)?(a(),y("img",{key:0,src:`/ficons/${t(De)(e.item.path)}.svg`,class:"svg"},null,8,go)):(a(),y("img",{key:1,class:"image-thumb",src:t(Be)(e.item.albumFileId,"&w=200&h=200"),onError:s[6]||(s[6]=p=>e.onImageError(e.item.id))},null,40,vo))])]),title:c(()=>[Ve(b(e.item.title),1)]),subtitle:c(()=>{var p;return[l("div",fo,[l("span",null,b(t(qe)(e.item.size)),1),l("span",ho,b(t(Re)(e.item.duration)),1)]),e.bucketsMap[e.item.bucketId]||e.item.tags.length>0?(a(),y("div",ko,[l("a",{onClick:s[7]||(s[7]=u(S=>e.viewBucket(e.mainStore,e.item.bucketId),["stop","prevent"]))},b((p=e.bucketsMap[e.item.bucketId])==null?void 0:p.name),1),r(g,{tags:e.item.tags,type:e.dataType,"only-links":!0},null,8,["tags","type"])])):A("",!0),l("div",Io,[e.item.artist?(a(),y("span",_o,b(e.item.artist),1)):A("",!0),l("span",bo,b(t(Ue)(e.item.createdAt)),1)])]}),actions:c(()=>[r(U,{item:e.item,filter:e.filter,"data-type":e.dataType,"edit-mode":e.editMode,"animating-ids":e.animatingIds,"play-loading":e.playLoading,"play-path":e.playPath,app:e.app,"delete-item":e.deleteItem,restore:e.restore,"download-file":e.downloadFile,trash:e.trash,"handle-remove-from-playlist":e.handleRemoveFromPlaylist,"add-to-playlist":e.addToPlaylist,"add-item-to-tags":e.addItemToTags,pause:e.pause,"is-audio-playing":e.isAudioPlaying,"is-in-playlist":e.isInPlaylist,"restore-loading":e.restoreLoading,"trash-loading":e.trashLoading},null,8,["item","filter","data-type","edit-mode","animating-ids","play-loading","play-path","app","delete-item","restore","download-file","trash","handle-remove-from-playlist","add-to-playlist","add-item-to-tags","pause","is-audio-playing","is-in-playlist","restore-loading","trash-loading"])]),_:1},8,["is-selected","is-selecting","checkbox-checked","show-checkbox"])):(a(),y("section",{key:0,class:Je(["media-item selectable-card",{selected:e.selectedIds.includes(e.item.id),selecting:e.shiftEffectingIds.includes(e.item.id)}]),onClick:s[4]||(s[4]=u(p=>e.handleItemClick(p,e.item,e.index,()=>e.play(e.item)),["stop"])),onMouseenter:s[5]||(s[5]=u(p=>e.handleMouseOver(p,e.index),["stop"]))},[l("div",oo,[e.shiftEffectingIds.includes(e.item.id)?(a(),d(n,{key:0,class:"checkbox","touch-target":"wrapper",checked:e.shouldSelect,onClick:s[0]||(s[0]=u(p=>e.toggleSelect(p,e.item,e.index),["stop"]))},null,8,["checked"])):(a(),d(n,{key:1,class:"checkbox","touch-target":"wrapper",checked:e.selectedIds.includes(e.item.id),onClick:s[1]||(s[1]=u(p=>e.toggleSelect(p,e.item,e.index),["stop"]))},null,8,["checked"])),l("span",io,[r(T,{id:e.index+1,raw:e.item},null,8,["id","raw"])])]),l("div",ao,[e.imageErrorIds.includes(e.item.id)?(a(),y("img",{key:0,src:`/ficons/${t(De)(e.item.path)}.svg`,class:"svg"},null,8,no)):(a(),y("img",{key:1,class:"image-thumb",src:t(Be)(e.item.albumFileId,"&w=200&h=200"),onError:s[2]||(s[2]=p=>e.onImageError(e.item.id))},null,40,lo))]),l("div",ro,b(e.item.title),1),l("div",uo,[l("span",null,b(t(qe)(e.item.size)),1),l("span",po,b(t(Re)(e.item.duration)),1),l("a",{onClick:s[3]||(s[3]=u(p=>e.viewBucket(e.mainStore,e.item.bucketId),["stop","prevent"]))},b((B=e.bucketsMap[e.item.bucketId])==null?void 0:B.name),1),r(g,{tags:e.item.tags,type:e.dataType,"only-links":!0},null,8,["tags","type"])]),r(U,{item:e.item,filter:e.filter,"data-type":e.dataType,"edit-mode":e.editMode,"animating-ids":e.animatingIds,"play-loading":e.playLoading,"play-path":e.playPath,app:e.app,"delete-item":e.deleteItem,restore:e.restore,"download-file":e.downloadFile,trash:e.trash,"handle-remove-from-playlist":e.handleRemoveFromPlaylist,"add-to-playlist":e.addToPlaylist,"add-item-to-tags":e.addItemToTags,pause:e.pause,"is-audio-playing":e.isAudioPlaying,"is-in-playlist":e.isInPlaylist,"restore-loading":e.restoreLoading,"trash-loading":e.trashLoading},null,8,["item","filter","data-type","edit-mode","animating-ids","play-loading","play-path","app","delete-item","restore","download-file","trash","handle-remove-from-playlist","add-to-playlist","add-item-to-tags","pause","is-audio-playing","is-in-playlist","restore-loading","trash-loading"]),l("div",mo,b(e.item.artist),1),l("div",yo,[f((a(),y("span",null,[Ve(b(t(Ue)(e.item.createdAt)),1)])),[[P,t(ds)(e.item.createdAt)]])])],34))}}}),wo=(M,e)=>{const{mutate:s,loading:n,onDone:T}=de({document:rs}),{mutate:g,loading:U,onDone:k}=de({document:us}),{app:P}=re(xe()),{t:B}=me();T(()=>{F.emit("refetch_app"),e()}),k(()=>{F.emit("refetch_app")});const p=ue(()=>{var C;return((C=P.value)==null?void 0:C.audios)??[]}),S=C=>p.value.some(v=>v.path===C.path);return{loading:n,removeLoading:U,isInPlaylist:S,addItemsToPlaylist:(C,v,I,_)=>{let h=_;if(!I){if(v.length===0){pe(B("select_first"),"error");return}h=`ids:${v.join(",")}`}s({query:h})},removeItemsFromPlaylist:(C,v,I,_)=>{if(I)M.value.filter(h=>S(h)).forEach(h=>{g({path:h.path})});else{if(v.length===0){pe(B("select_first"),"error");return}M.value.filter(O=>v.includes(O.id)&&S(O)).forEach(O=>{g({path:O.path})})}},addToPlaylist:(C,v)=>{s({query:`ids:${v.id}`})},removeFromPlaylist:(C,v)=>{g({path:v.path})}}},$o=()=>{const M=V(""),{mutate:e,loading:s,onDone:n}=de({document:ps});return n(()=>{F.emit("play_audio")}),{loading:s,playPath:M,play:T=>{M.value=T.path,e({path:T.path})},pause:()=>{F.emit("pause_audio")}}},Fo={class:"top-app-bar"},Po={class:"title"},Co={key:0},Ao={key:1},Mo={class:"actions"},So={key:0,class:"no-data-placeholder"},Q=50,Eo=Z({__name:"AudiosView",setup(M){const e=Fs("isPhone"),s=ms(),{audioSortBy:n}=re(s),T=V([]),{t:g}=me(),{parseQ:U}=Rs(),k=ys({tagIds:[],bucketId:void 0}),{app:P,urlTokenKey:B,audioPlaying:p,uploads:S}=re(xe()),C=o=>{var i;return p.value&&((i=P.value)==null?void 0:i.audioCurrent)===o.path},v=V([]),I=V(!1),_=V(!1),h=ue({get:()=>k.trash?"edit":s.pageUIMode.audios??"view",set:o=>{k.trash||(s.pageUIMode.audios=o)}}),{input:O,upload:st,uploadChanged:ce}=ze(S),{input:ot,upload:it,uploadChanged:ge}=ze(S),{dropping:at,fileDragEnter:ve,fileDragLeave:fe,dropFiles:nt}=cs(S),he=V(!1),w=gs.AUDIO,j=Ls(),W=V(1),{tags:J,buckets:x,fetch:lt}=vs(w),dt=ue(()=>{const o={};return x.value.forEach(i=>{o[i.id]=i}),o}),E=V(""),{addToTags:rt}=Ks(w,J),{deleteItems:ee,deleteItem:ut}=fs(),{view:pt}=Es(w),{selectedIds:L,allChecked:ke,realAllChecked:q,selectRealAll:mt,allCheckedAlertVisible:yt,clearSelection:K,toggleAllChecked:ct,toggleSelect:gt,total:R,checked:X,shiftEffectingIds:vt,handleItemClick:ft,handleMouseOver:ht,selectAll:kt,shouldSelect:It}=ss(T),{downloadItems:Ie}=hs(B,w,K,()=>As("audios")),{downloadFile:_t}=Ss(B),_e=o=>{const i=j.query.q;Ds(s,i?`/audios?page=${o}&q=${i}`:`/audios?page=${o}`)},bt=()=>{h.value==="edit"&&kt()},Tt=()=>{h.value==="edit"&&K()},wt=()=>{h.value==="edit"&&(ne(le.MEDIA_TRASH,P.value.osVersion)?se(w,G()):ee(w,L.value,q.value,R.value,E.value))},{keyDown:be,keyUp:Te}=os(R,Q,W,bt,Tt,_e,wt),{addItemsToPlaylist:$t,addToPlaylist:Ft,removeFromPlaylist:Pt,isInPlaylist:Ct}=wo(T,K),At=$s(),we=V([]),{play:Mt,playPath:St,loading:Et,pause:Lt}=$o(),Dt=o=>{we.value.push(o)},{loading:te,fetch:H}=ks({handle:(o,i)=>{he.value=!1,i?pe(g(i),"error"):o&&(T.value=o.items,R.value=o.total)},document:Ms,variables:()=>({offset:(W.value-1)*Q,limit:Q,query:E.value,sortBy:n.value})}),{trashLoading:$e,trash:se}=Is(),{restoreLoading:Fe,restore:Pe}=_s();function Bt(o){n.value!==o&&(he.value=!0,n.value=o)}function qt(){k.trash||(K(),h.value=h.value==="edit"?"view":"edit")}function Rt(){Ke(Qs,{title:g("keyboard_shortcuts"),shortcuts:Hs})}function Vt(o,i){h.value==="edit"&&ht(o,i)}function oe(){const o=x.value.find(i=>i.id===k.bucketId);return o?Oe(o.topItems[0]):`${P.value.internalStoragePath}/Music`}function Ut(){st(oe())}function zt(){it(oe())}function Nt(o){nt(o,oe(),i=>Qe(i.name))}const G=()=>{let o=E.value;return q.value||(o=`ids:${L.value.join(",")}`),o},Ce=o=>{o.type===w&&(K(),H())},Ae=o=>{o.type===w&&H()},Me=o=>{o.type===w&&(K(),H())},Se=o=>{o.status==="done"&&Qe(o.fileName)&&((!k.bucketId||x.value.some($=>$.id===k.bucketId&&$.topItems.some(Y=>o.dir.startsWith(Oe(Y)))))&&setTimeout(()=>{H()},1e3),F.emit("media_items_actioned",{type:w,action:"upload",query:""}))};function Kt(o){const i=o.tags.map($=>$.id);Ke(Bs,{type:w,tags:J.value,item:{key:o.id,title:o.title,size:o.size},selected:J.value.filter($=>i.includes($.id))})}function Ot(o,i){v.value.push(i.id),setTimeout(()=>{Pt(o,i),setTimeout(()=>{v.value=v.value.filter($=>$!==i.id)},200)},150)}function Qt(o,i){v.value.push(i.id),setTimeout(()=>{Ft(o,i),setTimeout(()=>{v.value=v.value.filter($=>$!==i.id)},200)},150)}const ie=V(!1);function Ee(){var i,$;const o=parseInt(((i=j.query.page)==null?void 0:i.toString())??"1");W.value=Number.isFinite(o)&&o>0?o:1,E.value=qs((($=j.query.q)==null?void 0:$.toString())??""),U(k,E.value),H()}return bs(()=>j.fullPath,()=>{ie.value&&Ee()}),Ts(()=>{lt(),ie.value=!0,Ee(),F.on("item_tags_updated",Ae),F.on("items_tags_updated",Ce),F.on("media_items_actioned",Me),F.on("upload_task_done",Se),window.addEventListener("keydown",be),window.addEventListener("keyup",Te)}),ws(()=>{ie.value=!1,F.off("item_tags_updated",Ae),F.off("items_tags_updated",Ce),F.off("media_items_actioned",Me),F.off("upload_task_done",Se),window.removeEventListener("keydown",be),window.removeEventListener("keyup",Te)}),(o,i)=>{const $=et,Y=je,z=Ge,Ht=We,Le=Xe,Gt=Ye,jt=Ze,Wt=tt,Xt=Ns,Yt=To,Zt=Xs,Jt=es,N=ye("tooltip");return a(),y(D,null,[l("div",Fo,[r($,{"touch-target":"wrapper",checked:t(ke),indeterminate:!t(ke)&&t(X),onChange:t(ct)},null,8,["checked","indeterminate","onChange"]),l("div",Po,[t(L).length?(a(),y("span",Co,b(o.$t("x_selected",{count:t(q)?t(R).toLocaleString():t(L).length.toLocaleString()})),1)):(a(),y("span",Ao,b(o.$t("page_title.audios"))+" ("+b(t(R).toLocaleString())+")",1)),t(X)?(a(),y(D,{key:2},[k.trash?(a(),y(D,{key:0},[f((a(),d(z,{onClick:i[0]||(i[0]=u(m=>t(ee)(t(w),t(L),t(q),t(R),E.value),["stop"]))},{default:c(()=>[r(Y)]),_:1})),[[N,o.$t("delete")]]),f((a(),d(z,{loading:t(Fe)(G()),onClick:i[1]||(i[1]=u(m=>t(Pe)(t(w),G()),["stop"]))},{default:c(()=>[r(Ht)]),_:1},8,["loading"])),[[N,o.$t("restore")]]),f((a(),d(z,{onClick:i[2]||(i[2]=u(m=>t(Ie)(t(q),t(L),E.value),["stop"]))},{default:c(()=>[r(Le)]),_:1})),[[N,o.$t("download")]])],64)):(a(),y(D,{key:1},[h.value==="edit"?(a(),y(D,{key:0},[t(ne)(t(le).MEDIA_TRASH,t(P).osVersion)?f((a(),d(z,{key:0,loading:t($e)(G()),onClick:i[3]||(i[3]=u(m=>t(se)(t(w),G()),["stop"]))},{default:c(()=>[r(Gt)]),_:1},8,["loading"])),[[N,o.$t("move_to_trash")]]):f((a(),d(z,{key:1,onClick:i[4]||(i[4]=u(m=>t(ee)(t(w),t(L),t(q),t(R),E.value),["stop"]))},{default:c(()=>[r(Y)]),_:1})),[[N,o.$t("delete")]]),f((a(),d(z,{onClick:i[5]||(i[5]=u(m=>t(rt)(t(L),t(q),E.value),["stop"]))},{default:c(()=>[r(jt)]),_:1})),[[N,o.$t("add_to_tags")]])],64)):A("",!0),f((a(),d(z,{onClick:i[6]||(i[6]=u(m=>t(Ie)(t(q),t(L),E.value),["stop"]))},{default:c(()=>[r(Le)]),_:1})),[[N,o.$t("download")]]),h.value!=="edit"?f((a(),d(z,{key:1,onClick:i[7]||(i[7]=u(m=>t($t)(m,t(L),t(q),E.value),["stop"]))},{default:c(()=>[r(Wt)]),_:1})),[[N,o.$t("add_to_playlist")]]):A("",!0)],64))],64)):A("",!0)]),l("div",Mo,[r(Os,{placement:"top","ui-mode":h.value,"filter-trash":!!k.trash,"is-phone":t(e),checked:t(X),"upload-menu-visible":I.value,"more-menu-visible":_.value,"sort-by":t(n),"sort-items":t(At),"show-view-toggle":!1,"on-toggle-ui-mode":qt,"on-upload-files":Ut,"on-upload-dir":zt,"on-open-keyboard-shortcuts":Rt,"on-sort":Bt,"onUpdate:uploadMenuVisible":i[8]||(i[8]=m=>I.value=m),"onUpdate:moreMenuVisible":i[9]||(i[9]=m=>_.value=m)},null,8,["ui-mode","filter-trash","is-phone","checked","upload-menu-visible","more-menu-visible","sort-by","sort-items"])])]),h.value==="edit"?(a(),d(Xt,{key:0,limit:Q,total:t(R),"all-checked-alert-visible":t(yt),"real-all-checked":t(q),"select-real-all":t(mt),"clear-selection":t(K)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"])):A("",!0),l("div",{class:"scroll-content",onDragover:i[13]||(i[13]=u((...m)=>t(ve)&&t(ve)(...m),["stop","prevent"]))},[f(l("div",{class:"drag-mask",onDrop:u(Nt,["stop","prevent"]),onDragleave:i[10]||(i[10]=u((...m)=>t(fe)&&t(fe)(...m),["stop","prevent"]))},b(o.$t("release_to_send_files")),545),[[Ps,t(at)]]),l("div",{class:Je(["main-list",{"select-mode":t(X)}])},[(a(!0),y(D,null,Ne(T.value,(m,xt)=>(a(),d(Yt,{key:m.id,item:m,index:xt,"is-phone":t(e),"selected-ids":t(L),"shift-effecting-ids":t(vt),"should-select":t(It),"image-error-ids":we.value,"buckets-map":dt.value,filter:k,"data-type":t(w),"animating-ids":v.value,"play-loading":t(Et),"play-path":t(St),"main-store":t(s),app:t(P),"handle-item-click":t(ft),"handle-mouse-over":Vt,"toggle-select":t(gt),"on-image-error":Dt,"view-bucket":t(pt),"delete-item":t(ut),restore:t(Pe),"download-file":t(_t),trash:t(se),"handle-remove-from-playlist":Ot,"add-to-playlist":Qt,"add-item-to-tags":Kt,play:t(Mt),pause:t(Lt),"is-audio-playing":C,"is-in-playlist":t(Ct),"restore-loading":t(Fe),"trash-loading":t($e),"edit-mode":h.value==="edit"},null,8,["item","index","is-phone","selected-ids","shift-effecting-ids","should-select","image-error-ids","buckets-map","filter","data-type","animating-ids","play-loading","play-path","main-store","app","handle-item-click","toggle-select","view-bucket","delete-item","restore","download-file","trash","play","pause","is-in-playlist","restore-loading","trash-loading","edit-mode"]))),128)),t(te)&&T.value.length===0?(a(),y(D,{key:0},Ne(20,m=>r(Zt,{key:m,index:m,"is-phone":t(e)},null,8,["index","is-phone"])),64)):A("",!0)],2),!t(te)&&T.value.length===0?(a(),y("div",So,b(o.$t(t(Cs)(t(te),t(P).permissions,"WRITE_EXTERNAL_STORAGE"))),1)):A("",!0),t(R)>Q?(a(),d(Jt,{key:1,page:W.value,go:_e,total:t(R),limit:Q},null,8,["page","total"])):A("",!0),l("input",{ref_key:"fileInput",ref:O,style:{display:"none"},type:"file",accept:"audio/*",multiple:"",onChange:i[11]||(i[11]=(...m)=>t(ce)&&t(ce)(...m))},null,544),l("input",{ref_key:"dirFileInput",ref:ot,style:{display:"none"},type:"file",accept:"audio/*",multiple:"",webkitdirectory:"",mozdirectory:"",directory:"",onChange:i[12]||(i[12]=(...m)=>t(ge)&&t(ge)(...m))},null,544)],32)],64)}}}),Oo=Vs(Eo,[["__scopeId","data-v-1189718c"]]);export{Oo as default};

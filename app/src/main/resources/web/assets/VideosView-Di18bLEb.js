import{_ as Ot}from"./VPagination.vuevuetypescriptsetuptruelang-qEU1ylFt.js";import{_ as Qt,a as jt}from"./check-circle-outline-rounded-VfFinrWk.js";import{_ as Gt}from"./ListItemPhone.vuevuetypescriptsetuptruelang-BqQhfyFX.js";import{d as ke,u as et,c as u,o as i,W as F,$ as f,h as L,a1 as ye,k as e,O as r,H as tt,A as d,v as g,j as p,as as ot,b2 as st,b3 as H,aD as it,b4 as me,b5 as ce,b6 as nt,ai as at,T as j,a as c,bi as ge,aY as x,t as h,q as ve,at as fe,au as lt,a9 as Wt,I as Ge,aa as We,e as Zt,s as Ze,r as z,M as Xt,f as Yt,X as ue,aF as Xe,aG as Jt,ad as xt,b7 as eo,av as to,b8 as oo,aH as so,N as io,b9 as no,ba as ao,w as lo,Y as ro,Z as uo,aI as po,K as mo,aJ as co,U as pe,a3 as go,ab as Ye,aP as vo,bj as fo,G as ko,bc as yo,bd as ho,aO as _o,be as bo,a6 as wo,C as Io,an as $o,bk as Je,ac as A,bg as Co,Q as To,R as Fo}from"./index-Bsb9VlRU.js";import{_ as Mo}from"./FieldId.vuevuetypescriptsetuptruelang-BY8t1FUN.js";import{_ as dt}from"./VCheckbox-Cc39_B7Y.js";import{_ as Eo}from"./check-circle-rounded-DLo3cS0k.js";import{_ as So}from"./AllCheckedAlert.vuevuetypescriptsetuptruelang-DEHCK6e4.js";import{a as Do,b as Ao}from"./key-events-B6Z678ov.js";import{c as Lo,_ as xe,K as Vo,m as Bo}from"./media-BN9ETd7G.js";import"./check-rounded-CG_JG0Oi.js";import"./VolumeCard.vuevuetypescriptsetuptruelang-CPrFl9ME.js";import"./sort-rounded-DfZ_DI6O.js";import"./upload-rounded-C7vCj0Rs.js";const Uo={class:"actions"},Ro=ke({__name:"VideoActionButtons",props:{item:{},filter:{},dataType:{},editMode:{type:Boolean},app:{},deleteItem:{type:Function},restore:{type:Function},downloadFile:{type:Function},trash:{type:Function},addItemToTags:{type:Function},restoreLoading:{type:Function},trashLoading:{type:Function}},setup(he){const{t}=et();return(s,m)=>{const _=ot,y=tt,P=st,k=it,K=nt,S=at,l=ye("tooltip");return i(),u("div",Uo,[s.filter.trash?(i(),u(F,{key:0},[s.editMode?f((i(),r(y,{key:0,class:"sm",onClick:m[0]||(m[0]=d(w=>s.deleteItem(s.dataType,s.item),["stop"]))},{default:g(()=>[p(_)]),_:1})),[[l,e(t)("delete")]]):L("",!0),f((i(),r(y,{class:"sm",loading:s.restoreLoading(`ids:${s.item.id}`),onClick:m[1]||(m[1]=d(w=>s.restore(s.dataType,`ids:${s.item.id}`),["stop"]))},{default:g(()=>[p(P)]),_:1},8,["loading"])),[[l,e(t)("restore")]]),f((i(),r(y,{class:"sm",onClick:m[2]||(m[2]=d(w=>s.downloadFile(s.item.path,e(H)(s.item.path).replace(" ","-")),["stop"]))},{default:g(()=>[p(k)]),_:1})),[[l,e(t)("download")]])],64)):(i(),u(F,{key:1},[s.editMode?(i(),u(F,{key:0},[e(me)(e(ce).MEDIA_TRASH,s.app.osVersion)?f((i(),r(y,{key:0,class:"sm",loading:s.trashLoading(`ids:${s.item.id}`),onClick:m[3]||(m[3]=d(w=>s.trash(s.dataType,`ids:${s.item.id}`),["stop"]))},{default:g(()=>[p(K)]),_:1},8,["loading"])),[[l,e(t)("move_to_trash")]]):f((i(),r(y,{key:1,class:"sm",onClick:m[4]||(m[4]=d(w=>s.deleteItem(s.dataType,s.item),["stop"]))},{default:g(()=>[p(_)]),_:1})),[[l,e(t)("delete")]]),f((i(),r(y,{class:"sm",onClick:m[5]||(m[5]=d(w=>s.downloadFile(s.item.path,e(H)(s.item.path).replace(" ","-")),["stop"]))},{default:g(()=>[p(k)]),_:1})),[[l,e(t)("download")]]),f((i(),r(y,{class:"sm",onClick:m[6]||(m[6]=d(w=>s.addItemToTags(s.item),["stop"]))},{default:g(()=>[p(S)]),_:1})),[[l,e(t)("add_to_tags")]])],64)):f((i(),r(y,{key:1,class:"sm",onClick:m[7]||(m[7]=d(w=>s.downloadFile(s.item.path,e(H)(s.item.path).replace(" ","-")),["stop"]))},{default:g(()=>[p(k)]),_:1})),[[l,e(t)("download")]])],64))])}}}),zo={class:"start"},qo={class:"number"},Po={class:"image"},Ko=["src"],No=["src"],Ho={class:"title"},Oo={class:"subtitle"},Qo={class:"time"},jo={class:"image"},Go=["src"],Wo=["src"],Zo={class:"subtitle"},Xo={class:"subtitle"},Yo=ke({__name:"VideoListItem",props:{item:{},index:{},selectedIds:{},shiftEffectingIds:{},shouldSelect:{type:Boolean},isPhone:{type:Boolean},editMode:{type:Boolean},imageErrorIds:{},bucketsMap:{},filter:{},dataType:{},mainStore:{},app:{},handleItemClick:{type:Function},handleMouseOver:{type:Function},toggleSelect:{type:Function},onImageError:{type:Function},viewBucket:{type:Function},deleteItem:{type:Function},restore:{type:Function},downloadFile:{type:Function},trash:{type:Function},addItemToTags:{type:Function},view:{type:Function},restoreLoading:{type:Function},trashLoading:{type:Function}},setup(he){return(t,s)=>{var S;const m=dt,_=Mo,y=lt,P=Ro,k=Gt,K=ye("tooltip");return t.isPhone?(i(),r(k,{key:1,"is-selected":t.selectedIds.includes(t.item.id),"is-selecting":t.shiftEffectingIds.includes(t.item.id),"checkbox-checked":t.shiftEffectingIds.includes(t.item.id)?t.shouldSelect:t.selectedIds.includes(t.item.id),"show-checkbox":t.editMode,onClick:s[8]||(s[8]=l=>t.handleItemClick(l,t.item,t.index,()=>t.view(t.index))),onMouseenter:s[9]||(s[9]=d(l=>t.handleMouseOver(l,t.index),["stop"])),onCheckboxClick:s[10]||(s[10]=l=>t.toggleSelect(l,t.item,t.index))},{image:g(()=>[c("div",jo,[t.imageErrorIds.includes(t.item.id)?(i(),u("img",{key:0,src:`/ficons/${e(ge)(t.item.path)}.svg`,class:"svg"},null,8,Go)):(i(),u("img",{key:1,class:"image-thumb",src:e(x)(t.item.fileId,"&w=200&h=200"),onError:s[6]||(s[6]=l=>t.onImageError(t.item.id))},null,40,Wo))])]),title:g(()=>[Ge(h(e(H)(t.item.path)),1)]),subtitle:g(()=>{var l;return[c("div",Zo,[c("span",null,h(e(ve)(t.item.size)),1),c("span",null,h(e(fe)(t.item.duration)),1),c("a",{onClick:s[7]||(s[7]=d(w=>t.viewBucket(t.mainStore,t.item.bucketId),["stop","prevent"]))},h((l=t.bucketsMap[t.item.bucketId])==null?void 0:l.name),1),p(y,{tags:t.item.tags,type:t.dataType,"only-links":!0},null,8,["tags","type"])]),c("div",Xo,h(e(We)(t.item.createdAt)),1)]}),actions:g(()=>[p(P,{item:t.item,filter:t.filter,"data-type":t.dataType,"edit-mode":t.editMode,app:t.app,"delete-item":t.deleteItem,restore:t.restore,"download-file":t.downloadFile,trash:t.trash,"add-item-to-tags":t.addItemToTags,"restore-loading":t.restoreLoading,"trash-loading":t.trashLoading},null,8,["item","filter","data-type","edit-mode","app","delete-item","restore","download-file","trash","add-item-to-tags","restore-loading","trash-loading"])]),_:1},8,["is-selected","is-selecting","checkbox-checked","show-checkbox"])):(i(),u("section",{key:0,class:j(["media-item selectable-card",{selected:t.selectedIds.includes(t.item.id),selecting:t.shiftEffectingIds.includes(t.item.id)}]),onClick:s[4]||(s[4]=d(l=>t.handleItemClick(l,t.item,t.index,()=>t.view(t.index)),["stop"])),onMouseenter:s[5]||(s[5]=d(l=>t.handleMouseOver(l,t.index),["stop"]))},[c("div",zo,[t.shiftEffectingIds.includes(t.item.id)?(i(),r(m,{key:0,class:"checkbox","touch-target":"wrapper",checked:t.shouldSelect,onClick:s[0]||(s[0]=d(l=>t.toggleSelect(l,t.item,t.index),["stop"]))},null,8,["checked"])):(i(),r(m,{key:1,class:"checkbox","touch-target":"wrapper",checked:t.selectedIds.includes(t.item.id),onClick:s[1]||(s[1]=d(l=>t.toggleSelect(l,t.item,t.index),["stop"]))},null,8,["checked"])),c("span",qo,[p(_,{id:t.index+1,raw:t.item},null,8,["id","raw"])])]),c("div",Po,[t.imageErrorIds.includes(t.item.id)?(i(),u("img",{key:0,src:`/ficons/${e(ge)(t.item.path)}.svg`,class:"svg"},null,8,Ko)):(i(),u("img",{key:1,class:"image-thumb",src:e(x)(t.item.fileId,"&w=200&h=200"),onError:s[2]||(s[2]=l=>t.onImageError(t.item.id))},null,40,No))]),c("div",Ho,h(e(H)(t.item.path)),1),c("div",Oo,[c("span",null,h(e(ve)(t.item.size)),1),c("span",null,h(e(fe)(t.item.duration)),1),c("a",{onClick:s[3]||(s[3]=d(l=>t.viewBucket(t.mainStore,t.item.bucketId),["stop","prevent"]))},h((S=t.bucketsMap[t.item.bucketId])==null?void 0:S.name),1),p(y,{tags:t.item.tags,type:t.dataType,"only-links":!0},null,8,["tags","type"])]),p(P,{item:t.item,filter:t.filter,"data-type":t.dataType,"edit-mode":t.editMode,app:t.app,"delete-item":t.deleteItem,restore:t.restore,"download-file":t.downloadFile,trash:t.trash,"add-item-to-tags":t.addItemToTags,"restore-loading":t.restoreLoading,"trash-loading":t.trashLoading},null,8,["item","filter","data-type","edit-mode","app","delete-item","restore","download-file","trash","add-item-to-tags","restore-loading","trash-loading"]),c("div",Qo,[f((i(),u("span",null,[Ge(h(e(We)(t.item.createdAt)),1)])),[[K,e(Wt)(t.item.createdAt)]])])],34))}}}),Jo={class:"top-app-bar"},xo={class:"title"},es={key:0},ts={key:1},os={class:"actions"},ss={key:0,class:"secondary-actions"},is=["onClick","onMouseenter"],ns=["src"],as=["src","onError"],ls={class:"right"},ds={key:2,class:"no-data-placeholder"},q=55,Is=ke({__name:"VideosView",setup(he){const t=mo("isPhone"),s=Zt(),{videoSortBy:m}=Ze(s),_=z([]),{t:y}=et(),{parseQ:P}=Fo(),k=Xt({tagIds:[],bucketId:void 0}),K=Yt(),{app:S,urlTokenKey:l,uploads:w}=Ze(K),G=z(!1),W=z(!1),$=ue({get:()=>k.trash?"edit":s.pageUIMode.videos??"view",set:o=>{k.trash||(s.pageUIMode.videos=o)}}),{input:rt,upload:ut,uploadChanged:_e}=Xe(w),{input:pt,upload:mt,uploadChanged:be}=Xe(w),{dropping:ct,fileDragEnter:we,fileDragLeave:Ie,dropFiles:gt}=Jt(w),$e=z(!1),v=xt.VIDEO,Z=wo(),X=z(1),{tags:ee,buckets:te,fetch:vt}=eo(v),ft=ue(()=>{const o={};return te.value.forEach(a=>{o[a.id]=a}),o}),M=z(""),{addToTags:kt}=to(v,ee),{deleteItems:oe,deleteItem:yt}=oo(),{view:ht}=bo(v),{selectedIds:b,allChecked:Ce,realAllChecked:D,selectRealAll:_t,allCheckedAlertVisible:bt,clearSelection:N,toggleAllChecked:wt,toggleSelect:Y,total:E,checked:V,shiftEffectingIds:se,handleItemClick:Te,handleMouseOver:It,selectAll:$t,shouldSelect:Fe}=Do(_),{downloadItems:Me}=so(l,v,N,()=>vo("videos")),{downloadFile:Ct}=_o(l),Ee=o=>{const a=Z.query.q;Io(s,a?`/videos?page=${o}&q=${a}`:`/videos?page=${o}`)},Tt=()=>{$.value==="edit"&&$t()},Ft=()=>{$.value==="edit"&&N()},Mt=()=>{$.value==="edit"&&(me(ce.MEDIA_TRASH,S.value.osVersion)?ne(v,Q()):oe(v,b.value,D.value,E.value,M.value))},{keyDown:Se,keyUp:De}=Ao(E,q,X,Tt,Ft,Ee,Mt),ie=z([]),Ae=po(),Et=ue(()=>_.value.map(o=>({src:x(o.fileId),name:H(o.path),duration:o.duration,size:o.size,path:o.path,data:o,type:v}))),Le=o=>{ie.value.push(o)},{loading:J,fetch:O}=io({handle:async(o,a)=>{if($e.value=!1,a)ko(y(a),"error");else if(o){const I=[];for(const B of o.videos)I.push({...B,fileId:yo(l.value,B.path,B.id)});_.value=I,E.value=o.videoCount}},document:fo,variables:()=>({offset:(X.value-1)*q,limit:q,query:M.value,sortBy:m.value})}),{trashLoading:Ve,trash:ne}=no(),{restoreLoading:Be,restore:Ue}=ao(),ae=Lo({filter:k,buckets:te,picker:{title:y("upload_select_destination"),description:y("upload_select_destination_desc"),initialPath:"",modalId:"upload-directory-picker-videos",storageKey:"plainweb.uploadDir.videos"}});function St(){k.trash||($.value==="edit"?($.value="view",N()):$.value="edit")}function Re(){Ye(Vo,{title:y("keyboard_shortcuts"),shortcuts:Bo})}function ze(o,a){$.value==="edit"&&It(o,a)}function le(o){K.lightbox={sources:Et.value,index:o,visible:!0}}const Q=()=>{let o=M.value;return D.value||(o=`ids:${b.value.join(",")}`),o};function qe(o){m.value!==o&&($e.value=!0,m.value=o)}function Dt(o){Ye($o,{type:v,tags:ee.value,item:{key:o.id,title:o.title,size:o.size},selected:ee.value.filter(a=>o.tags.some(I=>I.id===a.id))})}async function At(){const o=await ae.resolveTargetDir();o&&ut(o)}async function Lt(){const o=await ae.resolveTargetDir();o&&mt(o)}function Vt(o){gt(o,ae.resolveTargetDir,a=>Je(a.name))}const Pe=o=>{o.type===v&&(N(),O())},Ke=o=>{o.type===v&&O()},Ne=o=>{o.type===v&&(N(),O())},He=o=>{o.status==="done"&&Je(o.fileName)&&((!k.bucketId||te.value.some(I=>I.id===k.bucketId&&I.topItems.some(B=>o.dir.startsWith(Co(B)))))&&setTimeout(()=>{O()},1e3),A.emit("media_items_actioned",{type:v,action:"upload",query:""}))},de=z(!1);function Oe(){var a,I;const o=parseInt(((a=Z.query.page)==null?void 0:a.toString())??"1");X.value=Number.isFinite(o)&&o>0?o:1,M.value=To(((I=Z.query.q)==null?void 0:I.toString())??""),P(k,M.value),O()}return lo(()=>Z.fullPath,()=>{de.value&&Oe()}),ro(()=>{vt(),de.value=!0,Oe(),A.on("item_tags_updated",Ke),A.on("items_tags_updated",Pe),A.on("media_items_actioned",Ne),A.on("upload_task_done",He),window.addEventListener("keydown",Se),window.addEventListener("keyup",De)}),uo(()=>{de.value=!1,A.off("item_tags_updated",Ke),A.off("items_tags_updated",Pe),A.off("media_items_actioned",Ne),A.off("upload_task_done",He),window.removeEventListener("keydown",Se),window.removeEventListener("keyup",De)}),(o,a)=>{const I=dt,B=ot,C=tt,Bt=st,Qe=it,Ut=nt,Rt=at,zt=So,re=Eo,je=jt,qt=ho,Pt=lt,Kt=Yo,Nt=Qt,Ht=Ot,U=ye("tooltip");return i(),u(F,null,[c("div",Jo,[p(I,{"touch-target":"wrapper",checked:e(Ce),indeterminate:!e(Ce)&&e(V),onChange:e(wt)},null,8,["checked","indeterminate","onChange"]),c("div",xo,[e(b).length?(i(),u("span",es,h(o.$t("x_selected",{count:e(D)?e(E).toLocaleString():e(b).length.toLocaleString()})),1)):(i(),u("span",ts,h(o.$t("page_title.videos"))+" ("+h(e(E).toLocaleString())+")",1)),e(V)?(i(),u(F,{key:2},[k.trash?(i(),u(F,{key:0},[f((i(),r(C,{onClick:a[0]||(a[0]=d(n=>e(oe)(e(v),e(b),e(D),e(E),M.value),["stop"]))},{default:g(()=>[p(B)]),_:1})),[[U,o.$t("delete")]]),f((i(),r(C,{loading:e(Be)(Q()),onClick:a[1]||(a[1]=d(n=>e(Ue)(e(v),Q()),["stop"]))},{default:g(()=>[p(Bt)]),_:1},8,["loading"])),[[U,o.$t("restore")]]),f((i(),r(C,{onClick:a[2]||(a[2]=d(n=>e(Me)(e(D),e(b),M.value),["stop"]))},{default:g(()=>[p(Qe)]),_:1})),[[U,o.$t("download")]])],64)):(i(),u(F,{key:1},[$.value==="edit"?(i(),u(F,{key:0},[e(me)(e(ce).MEDIA_TRASH,e(S).osVersion)?f((i(),r(C,{key:0,loading:e(Ve)(Q()),onClick:a[3]||(a[3]=d(n=>e(ne)(e(v),Q()),["stop"]))},{default:g(()=>[p(Ut)]),_:1},8,["loading"])),[[U,o.$t("move_to_trash")]]):f((i(),r(C,{key:1,onClick:a[4]||(a[4]=d(n=>e(oe)(e(v),e(b),e(D),e(E),M.value),["stop"]))},{default:g(()=>[p(B)]),_:1})),[[U,o.$t("delete")]]),f((i(),r(C,{onClick:a[5]||(a[5]=d(n=>e(kt)(e(b),e(D),M.value),["stop"]))},{default:g(()=>[p(Rt)]),_:1})),[[U,o.$t("add_to_tags")]])],64)):L("",!0),f((i(),r(C,{onClick:a[6]||(a[6]=d(n=>e(Me)(e(D),e(b),M.value),["stop"]))},{default:g(()=>[p(Qe)]),_:1})),[[U,o.$t("download")]])],64))],64)):L("",!0)]),c("div",os,[p(xe,{placement:"top","ui-mode":$.value,"filter-trash":!!k.trash,"is-phone":e(t),checked:e(V),"upload-menu-visible":G.value,"more-menu-visible":W.value,"sort-by":e(m),"sort-items":e(Ae),"show-view-toggle":!0,"card-view":e(s).videosCardView,"on-toggle-ui-mode":St,"on-upload-files":At,"on-upload-dir":Lt,"on-open-keyboard-shortcuts":Re,"on-sort":qe,"on-update-card-view":n=>e(s).videosCardView=n,"onUpdate:uploadMenuVisible":a[7]||(a[7]=n=>G.value=n),"onUpdate:moreMenuVisible":a[8]||(a[8]=n=>W.value=n)},null,8,["ui-mode","filter-trash","is-phone","checked","upload-menu-visible","more-menu-visible","sort-by","sort-items","card-view","on-update-card-view"])])]),e(t)&&!e(V)?(i(),u("div",ss,[p(xe,{placement:"secondary","ui-mode":$.value,"filter-trash":!!k.trash,"is-phone":e(t),checked:e(V),"upload-menu-visible":G.value,"more-menu-visible":W.value,"sort-by":e(m),"sort-items":e(Ae),"show-view-toggle":!0,"card-view":e(s).videosCardView,"on-open-keyboard-shortcuts":Re,"on-sort":qe,"on-update-card-view":n=>e(s).videosCardView=n,"onUpdate:uploadMenuVisible":a[9]||(a[9]=n=>G.value=n),"onUpdate:moreMenuVisible":a[10]||(a[10]=n=>W.value=n)},null,8,["ui-mode","filter-trash","is-phone","checked","upload-menu-visible","more-menu-visible","sort-by","sort-items","card-view","on-update-card-view"])])):L("",!0),p(zt,{limit:q,total:e(E),"all-checked-alert-visible":e(bt),"real-all-checked":e(D),"select-real-all":e(_t),"clear-selection":e(N)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),c("div",{class:"scroll-content",onDragover:a[14]||(a[14]=d((...n)=>e(we)&&e(we)(...n),["stop","prevent"]))},[f(c("div",{class:"drag-mask",onDrop:d(Vt,["stop","prevent"]),onDragleave:a[11]||(a[11]=d((...n)=>e(Ie)&&e(Ie)(...n),["stop","prevent"]))},h(o.$t("release_to_send_files")),545),[[co,e(ct)]]),e(s).videosCardView?(i(),u("div",{key:1,class:j(["main-list media-list",{"select-mode":e(V)}])},[(i(!0),u(F,null,pe(_.value,(n,R)=>(i(),r(Kt,{key:n.id,item:n,index:R,"is-phone":e(t),"selected-ids":e(b),"shift-effecting-ids":e(se),"should-select":e(Fe),"image-error-ids":ie.value,"buckets-map":ft.value,filter:k,"data-type":e(v),"main-store":e(s),app:e(S),"handle-item-click":e(Te),"handle-mouse-over":ze,"toggle-select":e(Y),"on-image-error":Le,"view-bucket":e(ht),"delete-item":e(yt),restore:e(Ue),"download-file":e(Ct),trash:e(ne),"add-item-to-tags":Dt,view:le,"restore-loading":e(Be),"edit-mode":$.value==="edit","trash-loading":e(Ve)},null,8,["item","index","is-phone","selected-ids","shift-effecting-ids","should-select","image-error-ids","buckets-map","filter","data-type","main-store","app","handle-item-click","toggle-select","view-bucket","delete-item","restore","download-file","trash","restore-loading","edit-mode","trash-loading"]))),128)),e(J)&&_.value.length===0?(i(),r(Nt,{key:0,limit:q,"is-phone":e(t)},null,8,["is-phone"])):L("",!0)],2)):(i(),u("div",{key:0,class:j(["media-grid",{"select-mode":e(V)}])},[(i(!0),u(F,null,pe(_.value,(n,R)=>(i(),u("section",{key:n.id,class:j(["media-item",{selected:e(b).includes(n.id),selecting:e(se).includes(n.id)}]),onClick:d(T=>e(Te)(T,n,R,le),["stop"]),onMouseenter:d(T=>ze(T,R),["stop"])},[ie.value.includes(n.id)?(i(),u("img",{key:0,src:`/ficons/${e(ge)(n.path)}.svg`,class:"image svg"},null,8,ns)):(i(),u("img",{key:1,class:"image image-thumb",src:e(x)(n.fileId,"&w=200&h=200"),onError:T=>Le(n.id)},null,40,as)),e(se).includes(n.id)?(i(),r(C,{key:2,class:"btn-checkbox",onClick:d(T=>e(Y)(T,n,R),["stop"])},{default:g(()=>[e(Fe)?(i(),r(re,{key:0})):(i(),r(je,{key:1}))]),_:2},1032,["onClick"])):e(b).includes(n.id)?(i(),r(C,{key:3,class:"btn-checkbox",onClick:d(T=>e(Y)(T,n,R),["stop"])},{default:g(()=>[p(re)]),_:2},1032,["onClick"])):(i(),r(C,{key:4,class:"btn-checkbox",onClick:d(T=>e(Y)(T,n,R),["stop"])},{default:g(()=>[e(b).includes(n.id)?(i(),r(re,{key:0})):(i(),r(je,{key:1}))]),_:2},1032,["onClick"])),e(V)?f((i(),r(C,{key:5,class:"btn-zoom sm",onClick:d(T=>le(R),["stop"])},{default:g(()=>[p(qt)]),_:2},1032,["onClick"])),[[U,o.$t("open")]]):L("",!0),c("div",{class:j(["info",{"has-tags":n.tags.length>0}])},[p(Pt,{tags:n.tags,type:e(v)},null,8,["tags","type"]),c("span",ls,h(["SIZE_ASC","SIZE_DESC"].includes(e(m))?e(ve)(n.size):e(fe)(n.duration)),1)],2)],42,is))),128)),e(J)&&_.value.length===0?(i(),u(F,{key:0},pe(q,n=>c("section",{key:n,class:"skeleton-image media-item"})),64)):L("",!0)],2)),!e(J)&&_.value.length===0?(i(),u("div",ds,h(o.$t(e(go)(e(J),e(S).permissions,"WRITE_EXTERNAL_STORAGE"))),1)):L("",!0),e(E)>q?(i(),r(Ht,{key:3,page:X.value,go:Ee,total:e(E),limit:q},null,8,["page","total"])):L("",!0),c("input",{ref_key:"fileInput",ref:rt,style:{display:"none"},type:"file",accept:"video/*",multiple:"",onChange:a[12]||(a[12]=(...n)=>e(_e)&&e(_e)(...n))},null,544),c("input",{ref_key:"dirFileInput",ref:pt,style:{display:"none"},type:"file",accept:"video/*",multiple:"",webkitdirectory:"",mozdirectory:"",directory:"",onChange:a[13]||(a[13]=(...n)=>e(be)&&e(be)(...n))},null,544)],32)],64)}}});export{Is as default};

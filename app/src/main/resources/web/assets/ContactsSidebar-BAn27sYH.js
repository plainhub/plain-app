import{_ as g}from"./LeftSidebar.vuevuetypescriptsetuptruelang-CKp-4xkn.js";import{_ as C}from"./TagFilter.vuevuetypescriptsetuptruelang-BNkqgX8-.js";import{d as S,e as y,s as T,f as k,W as w,r as B,Y as I,w as N,M as b,o as i,v as u,aa as _,a8 as A,a9 as R,aT as V,a as c,j as $,A as q,R as L,c as M,h as Q,t as n,k as d,I as x,C as z}from"./index-DZRXRZ01.js";import"./VDropdownMenu-Z4otLC_Y.js";import"./more-vert-0uLzmwy7.js";const j={class:"nav"},D={class:"title"},E={key:0,class:"count"},H=S({__name:"ContactsSidebar",setup(G){const p=y(),{counter:a}=T(k()),{parseQ:m}=R(),s=w({tagIds:[]}),o=B(""),{fetch:f}=I({handle:t=>{t&&(a.value.contacts=t.total)},document:V,variables:()=>({})});function r(){var e;const t=_.currentRoute.value,l=A(((e=t.query.q)==null?void 0:e.toString())??"");m(s,l),o.value=s.tagIds.length===1?s.tagIds[0]:"",f()}r(),N(()=>_.currentRoute.value,()=>{r()});function v(){z(p,"/contacts")}return(t,l)=>{const e=C,h=g;return i(),b(h,null,{title:u(()=>[x(n(t.$t("page_title.contacts")),1)]),body:u(()=>[c("ul",j,[c("li",{class:L({active:!o.value}),onClick:q(v,["prevent"])},[c("span",D,n(t.$t("all")),1),d(a).contacts>=0?(i(),M("span",E,n(d(a).contacts.toLocaleString()),1)):Q("",!0)],2)]),$(e,{type:"CONTACT",selected:o.value},null,8,["selected"])]),_:1})}}});export{H as default};

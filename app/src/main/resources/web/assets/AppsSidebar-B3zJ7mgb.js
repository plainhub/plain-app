import{_ as b}from"./LeftSidebar.vuevuetypescriptsetuptruelang-rYBRxPjc.js";import{d as q,e as w,s as L,f as A,W as Q,r as k,Y as R,w as T,M,o as l,v as z,aa as g,a8 as D,a9 as E,aC as N,a as t,A as u,R as p,c as v,h as m,t as o,k as r,D as V,C as S,E as G}from"./index-CiJYwD0I.js";const I={class:"nav"},P={class:"title"},W={key:0,class:"count"},Y={class:"title"},j={key:0,class:"count"},x={class:"title"},F={key:0,class:"count"},O=q({__name:"AppsSidebar",setup(H){const y=w(),{counter:a}=L(A()),{parseQ:h}=E(),_=Q({tagIds:[]}),n=k(""),i=k(-1),{fetch:C}=R({handle:e=>{e&&(a.value.packages=e.total,a.value.packagesSystem=e.system,i.value=e.total-e.system)},document:N,variables:()=>({})});function d(){var c;const e=g.currentRoute.value,s=D(((c=e.query.q)==null?void 0:c.toString())??"");h(_,s),n.value=_.type??"",C()}function f(e){const s=V([{name:"type",op:"",value:e}]);S(y,`/apps?q=${G(s)}`)}function B(){S(y,"/apps")}return d(),T(()=>g.currentRoute.value,()=>{d()}),(e,s)=>{const c=b;return l(),M(c,null,{body:z(()=>[t("ul",I,[t("li",{class:p({active:!n.value}),onClick:u(B,["prevent"])},[t("span",P,o(e.$t("all")),1),r(a).packages>=0?(l(),v("span",W,o(r(a).packages.toLocaleString()),1)):m("",!0)],2),t("li",{class:p({active:n.value==="user"}),onClick:s[0]||(s[0]=u($=>f("user"),["prevent"]))},[t("span",Y,o(e.$t("app_type.user")),1),i.value>=0?(l(),v("span",j,o(i.value.toLocaleString()),1)):m("",!0)],2),t("li",{class:p({active:n.value==="system"}),onClick:s[1]||(s[1]=u($=>f("system"),["prevent"]))},[t("span",x,o(e.$t("app_type.system")),1),r(a).packagesSystem>=0?(l(),v("span",F,o(r(a).packagesSystem.toLocaleString()),1)):m("",!0)],2)])]),_:1})}}});export{O as default};

import{_ as C}from"./LeftSidebar.vuevuetypescriptsetuptruelang-BXgsjlkg.js";import{_ as y}from"./TagFilter.vuevuetypescriptsetuptruelang-DCCzBQN2.js";import{_ as S}from"./layout-grid-Dgl4ldKn.js";import{d as k,e as T,s as w,f as B,M as N,r as b,N as A,w as I,O as Q,o as i,v as R,P as l,Q as $,R as q,a$ as L,a as s,j as u,A as M,T as V,c as x,h as z,t as _,k as d,C as O}from"./index-BBktiafP.js";import"./VDropdownMenu-DSdu_7RS.js";const P={class:"nav"},j={class:"icon","aria-hidden":"true"},D={class:"title"},E={key:0,class:"count"},W=k({__name:"ContactsSidebar",setup(G){const p=T(),{counter:a}=w(B()),{parseQ:m}=q(),o=N({tagIds:[]}),n=b(""),{fetch:f}=A({handle:t=>{t&&(a.value.contacts=t.total)},document:L,variables:()=>({})});function c(){var e;const t=l.currentRoute.value,r=$(((e=t.query.q)==null?void 0:e.toString())??"");m(o,r),n.value=o.tagIds.length===1?o.tagIds[0]:"",f()}c(),I(()=>l.currentRoute.value,()=>{c()});function h(){O(p,"/contacts")}return(t,r)=>{const e=S,v=y,g=C;return i(),Q(g,null,{body:R(()=>[s("ul",P,[s("li",{class:V({active:!n.value}),onClick:M(h,["prevent"])},[s("span",j,[u(e)]),s("span",D,_(t.$t("all")),1),d(a).contacts>=0?(i(),x("span",E,_(d(a).contacts.toLocaleString()),1)):z("",!0)],2)]),u(v,{type:"CONTACT",selected:n.value},null,8,["selected"])]),_:1})}}});export{W as default};
